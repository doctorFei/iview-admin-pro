(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be9c0402"],{"0f7c":function(e,t,r){"use strict";var n=r("b7bb"),i=r.n(n);i.a},1784:function(e,t,r){"use strict";var n=r("1c8b"),i=r("58d8").left,a=r("d7e1"),s=r("ff9c"),o=a("reduce"),u=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"20a5":function(e,t,r){"use strict";var n=r("1c8b"),i=r("3da3"),a=r("e1d9"),s=r("c7e6"),o=r("efe2"),u=1..toFixed,l=Math.floor,f=function(e,t,r){return 0===t?r:t%2===1?f(e,t-1,r*e):f(e*e,t/2,r)},c=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},p=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){u.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,r,n,o,u=a(this),p=i(e),d=[0,0,0,0,0,0],h="",m="0",g=function(e,t){var r=-1,n=t;while(++r<6)n+=e*d[r],d[r]=n%1e7,n=l(n/1e7)},b=function(e){var t=6,r=0;while(--t>=0)r+=d[t],d[t]=l(r/e),r=r%e*1e7},v=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var r=String(d[e]);t=""===t?r:t+s.call("0",7-r.length)+r}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(t=c(u*f(2,69,1))-69,r=t<0?u*f(2,-t,1):u/f(2,t,1),r*=4503599627370496,t=52-t,t>0){g(0,r),n=p;while(n>=7)g(1e7,0),n-=7;g(f(10,n,1),0),n=t-1;while(n>=23)b(1<<23),n-=23;b(1<<n),g(1,1),b(2),m=v()}else g(0,r),g(1<<-t,0),m=v()+s.call("0",p);return p>0?(o=m.length,m=h+(o<=p?"0."+s.call("0",p-o)+m:m.slice(0,o-p)+"."+m.slice(o-p))):m=h+m,m}})},"58d8":function(e,t,r){var n=r("0c3c"),i=r("3553"),a=r("692f"),s=r("d88d"),o=function(e){return function(t,r,o,u){n(r);var l=i(t),f=a(l),c=s(l.length),p=e?c-1:0,d=e?-1:1;if(o<2)while(1){if(p in f){u=f[p],p+=d;break}if(p+=d,e?p<0:c<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:c>p;p+=d)p in f&&(u=r(u,f[p],p,l));return u}};e.exports={left:o(!1),right:o(!0)}},"6ae3":function(e,t,r){var n=r("1c8b"),i=r("8d7b");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},"6d96":function(e,t,r){"use strict";var n=r("7e16"),i=r.n(n);i.a},"7e16":function(e,t,r){},8922:function(e,t,r){"use strict";var n=r("9474"),i=r.n(n);i.a},8970:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("resumable",{attrs:{resumableId:"upload",target:e.uploadTarget,maxFiles:1,fileAdded:e.fileAdded,fileSuccess:e.fileUploadSuccess}},[r("div",{staticClass:"uploadBox flex flex-column justify-center items-center",staticStyle:{height:"332px","max-height":"332px",width:"486px"}},[r("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload",staticStyle:{color:"rgb(51, 153, 255)","font-size":"52px"}}),r("p",[e._v("点击这里上传")])])]),r("div",{staticStyle:{"padding-top":"50px"}},[r("p",[e._v("该组件是基于resumable的封装（http://github.com/23/resumable.js）")]),r("p",[e._v("默认支持以下prop参数配置，若需要新增配置则参考resumable.js说明文档")]),r("Table",{attrs:{columns:e.columns,data:e.propData}})],1)],1)},i=[],a=(r("6a61"),r("cf7f")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"upload",staticStyle:{display:"inline-block"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.resumable_error,expression:"resumable_error"}],staticClass:"resumable-error"},[e._v(" Your browser, unfortunately, is not supported by Resumable.js. The library requires support for "),r("a",{attrs:{href:"http://www.w3.org/TR/FileAPI/"}},[e._v("the HTML5 File API")]),e._v(" along with "),r("a",{attrs:{href:"http://www.w3.org/TR/FileAPI/#normalization-of-params"}},[e._v("file slicing")]),e._v(". ")]),r("div",{class:e.resumableBrowse},[e._t("default")],2),e.showProgress?r("Progress",{attrs:{showProgress:e.progressModalShow,fileList:e.fileList},on:{"update:showProgress":function(t){e.progressModalShow=t},"update:show-progress":function(t){e.progressModalShow=t}}}):e._e()],1)},o=[],u=(r("ecb4"),r("6ae3"),r("ea69"),r("053b"),r("513c"),r("20a5"),r("e18c"),r("e35a"),r("5e9f"),r("b4fb"),r("dbb3"),r("9302"),r("2eeb"),r("1784"),r("77ad"),r("f4e3"),function e(t){if(!(this instanceof e))return new e(t);if(this.version=1,this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var r=this;r.files=[],r.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,preprocessFile:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,409,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var n=r.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+n.formatSize(r.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+n.formatSize(r.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+r.getOpt("fileType")+".")}},r.opts=t||{},r.getOpt=function(t){var r=this;if(t instanceof Array){var i={};return n.each(t,(function(e){i[e]=r.getOpt(e)})),i}if(r instanceof p){if("undefined"!==typeof r.opts[t])return r.opts[t];r=r.fileObj}if(r instanceof c){if("undefined"!==typeof r.opts[t])return r.opts[t];r=r.resumableObj}if(r instanceof e)return"undefined"!==typeof r.opts[t]?r.opts[t]:r.defaults[t]},r.events=[],r.on=function(e,t){r.events.push(e.toLowerCase(),t)},r.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var n=e[0].toLowerCase();for(t=0;t<=r.events.length;t+=2)r.events[t]==n&&r.events[t+1].apply(r,e.slice(1)),"catchall"==r.events[t]&&r.events[t+1].apply(null,e);"fileerror"==n&&r.fire("error",e[2],e[1]),"fileprogress"==n&&r.fire("progress")};var n={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!==typeof e.length){for(var r=0;r<e.length;r++)if(!1===t(e[r]))return}else for(r in e)if(!1===t(r,e[r]))return},generateUniqueIdentifier:function(e,t){var n=r.getOpt("generateUniqueIdentifier");if("function"===typeof n)return n(e,t);var i=e.webkitRelativePath||e.fileName||e.name,a=e.size;return a+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var r=!1;return n.each(e,(function(e){return e!=t||(r=!0,!1)})),r},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var n=r.getOpt("target");if("test"===e&&r.getOpt("testTarget")&&(n="/"===r.getOpt("testTarget")?r.getOpt("target"):r.getOpt("testTarget")),"function"===typeof n)return n(t);var i=n.indexOf("?")<0?"?":"&",a=t.join("&");return n+i+a}},i=function(e){n.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},a=function(e){e.preventDefault()};function s(e,t,r,n){var i;return e.isFile?e.file((function(e){e.relativePath=t+e.name,r.push(e),n()})):(e.isDirectory?i=e:e instanceof File&&r.push(e),"function"===typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?u(i,t+i.name+"/",r,n):("function"===typeof e.getAsFile&&(e=e.getAsFile(),e instanceof File&&(e.relativePath=t+e.name,r.push(e))),void n()))}function o(e,t){if(!e||0===e.length)return t();e[0]((function(){o(e.slice(1),t)}))}function u(e,t,r,n){var i=e.createReader(),a=[];function u(){i.readEntries((function(e){if(e.length)return a=a.concat(e),u();o(a.map((function(e){return s.bind(null,e,t,r)})),n)}))}u()}function l(e,t){if(e.length){r.fire("beforeAdd");var n=[];o(Array.prototype.map.call(e,(function(e){return s.bind(null,e,"",n)})),(function(){n.length&&f(n,t)}))}}var f=function(e,t){var i=0,a=r.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!==typeof a.maxFiles&&a.maxFiles<e.length+r.files.length){if(1!==a.maxFiles||1!==r.files.length||1!==e.length)return a.maxFilesErrorCallback(e,i++),!1;r.removeFile(r.files[0])}var s=[],o=[],u=e.length,l=function(){if(!--u){if(!s.length&&!o.length)return;window.setTimeout((function(){r.fire("filesAdded",s,o)}),0)}};n.each(e,(function(e){var u=e.name,f=e.type;if(a.fileType.length>0){var p=!1;for(var d in a.fileType){a.fileType[d]=a.fileType[d].replace(/\s/g,"").toLowerCase();var h=(a.fileType[d].match(/^[^.][^/]+$/)?".":"")+a.fileType[d];if(u.substr(-1*h.length).toLowerCase()===h||-1!==h.indexOf("/")&&(-1!==h.indexOf("*")&&f.substr(0,h.indexOf("*"))===h.substr(0,h.indexOf("*"))||f===h)){p=!0;break}}if(!p)return a.fileTypeErrorCallback(e,i++),!1}if("undefined"!==typeof a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,i++),!1;if("undefined"!==typeof a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,i++),!1;function m(n){r.getFromUniqueIdentifier(n)?o.push(e):function(){e.uniqueIdentifier=n;var i=new c(r,e,n);r.files.push(i),s.push(i),i.container="undefined"!==typeof t?t.srcElement:null,window.setTimeout((function(){r.fire("fileAdded",i,t,s,r.files)}),0)}(),l()}var g=n.generateUniqueIdentifier(e,t);g&&"function"===typeof g.then?g.then((function(e){m(e)}),(function(){l()})):m(g)}))};function c(e,t,r){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=r,i._pause=!1,i.container="",i.preprocessState=0;var a=void 0!==r,s=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i);break}};return i.chunks=[],i.abort=function(){var e=0;n.each(i.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],n.each(e,(function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())})),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",(function(){e||i.resumableObj.upload(),e=!0}))},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),r=0;r<t;r++)(function(e){window.setTimeout((function(){i.chunks.push(new p(i.resumableObj,i,e,s)),i.resumableObj.fire("chunkingProgress",i,e/t)}),0)})(r);window.setTimeout((function(){i.resumableObj.fire("chunkingComplete",i)}),0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return n.each(i.chunks,(function(r){"error"==r.status()&&(t=!0),e+=r.progress(!0)})),e=t||e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return n.each(i.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},i.isComplete=function(){var e=!1;return 1!==i.preprocessState&&(n.each(i.chunks,(function(t){var r=t.status();if("pending"==r||"uploading"==r||1===t.preprocessState)return e=!0,!1})),!e)},i.pause=function(e){i._pause="undefined"===typeof e?!i._pause:e},i.isPaused=function(){return i._pause},i.preprocessFinished=function(){i.preprocessState=2,i.upload()},i.upload=function(){var e=!1;if(!1===i.isPaused()){var t=i.getOpt("preprocessFile");if("function"===typeof t)switch(i.preprocessState){case 0:return i.preprocessState=1,t(i),!0;case 1:return!0;case 2:break}n.each(i.chunks,(function(t){if("pending"==t.status()&&1!==t.preprocessState)return t.send(),e=!0,!1}))}return e},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function p(e,t,r,i){var a=this;a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=r,a.callback=i,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0;var s=a.getOpt("chunkSize");return a.loaded=0,a.startByte=a.offset*s,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*s),a.fileObjSize-a.endByte<s&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){a.xhr=new XMLHttpRequest;var e=function(e){a.tested=!0;var t=a.status();"success"==t?(a.callback(t,a.message()),a.resumableObj.uploadNextChunk()):a.send()};a.xhr.addEventListener("load",e,!1),a.xhr.addEventListener("error",e,!1),a.xhr.addEventListener("timeout",e,!1);var t=[],r=a.getOpt("parameterNamespace"),i=a.getOpt("query");"function"===typeof i&&(i=i(a.fileObj,a)),n.each(i,(function(e,n){t.push([encodeURIComponent(r+e),encodeURIComponent(n)].join("="))})),t=t.concat([["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).map((function(e){return[r+a.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),a.xhr.open(a.getOpt("testMethod"),n.getTarget("test",t)),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var s=a.getOpt("headers");"function"===typeof s&&(s=s(a.fileObj,a)),n.each(s,(function(e,t){a.xhr.setRequestHeader(e,t)})),a.xhr.send(null)},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"===typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return;case 2:break}if(!a.getOpt("testChunks")||a.tested){a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",(function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0}),!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if(a.resumableObj.response=a.message(),"success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var r=a.getOpt("chunkRetryInterval");void 0!==r?(a.pendingRetry=!0,setTimeout(a.send,r)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var r=[["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).reduce((function(e,t){return e[a.getOpt(t[0])]=t[1],e}),{}),i=a.fileObj.customQuery;"function"===typeof i&&(i=i(a.fileObj,a)),i&&n.each(i,(function(e,t){r[e]=t}));var s=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",o=a.fileObj.file[s](a.startByte,a.endByte,a.getOpt("setChunkTypeFromFile")?a.fileObj.file.type:""),u=null,l=[],f=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method"))u=o,n.each(r,(function(e,t){l.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))}));else if(u=new FormData,n.each(r,(function(e,t){u.append(f+e,t),l.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))})),"blob"==a.getOpt("chunkFormat"))u.append(f+a.getOpt("fileParameterName"),o,a.fileObj.fileName);else if("base64"==a.getOpt("chunkFormat")){var c=new FileReader;c.onload=function(e){u.append(f+a.getOpt("fileParameterName"),c.result),a.xhr.send(u)},c.readAsDataURL(o)}var p=n.getTarget("upload",l),d=a.getOpt("uploadMethod");a.xhr.open(d,p),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","application/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"===typeof h&&(h=h(a.fileObj,a)),n.each(h,(function(e,t){a.xhr.setRequestHeader(e,t)})),"blob"==a.getOpt("chunkFormat")&&a.xhr.send(u)}else a.test()},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":n.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){"undefined"===typeof e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;a.xhr&&a.xhr.status||(t*=.95);var r=a.status();switch(r){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}return r.uploadNextChunk=function(){var e=!1;if(r.getOpt("prioritizeFirstAndLastChunk")&&(n.each(r.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(n.each(r.files,(function(t){if(e=t.upload(),e)return!1})),e)return!0;var t=!1;return n.each(r.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||r.fire("complete"),!1},r.assignBrowse=function(e,t){"undefined"===typeof e.length&&(e=[e]),n.each(e,(function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=document.createElement("input"),n.setAttribute("type","file"),n.style.display="none",e.addEventListener("click",(function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"}),!1),e.appendChild(n));var i=r.getOpt("maxFiles");"undefined"===typeof i||1!=i?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),t?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory");var a=r.getOpt("fileType");"undefined"!==typeof a&&a.length>=1?n.setAttribute("accept",a.map((function(e){return e=e.replace(/\s/g,"").toLowerCase(),e.match(/^[^.][^/]+$/)&&(e="."+e),e})).join(",")):n.removeAttribute("accept"),n.addEventListener("change",(function(e){f(e.target.files,e);var t=r.getOpt("clearInput");t&&(e.target.value="")}),!1)}))},r.assignDrop=function(e){"undefined"===typeof e.length&&(e=[e]),n.each(e,(function(e){e.addEventListener("dragover",a,!1),e.addEventListener("dragenter",a,!1),e.addEventListener("drop",i,!1)}))},r.unAssignDrop=function(e){"undefined"===typeof e.length&&(e=[e]),n.each(e,(function(e){e.removeEventListener("dragover",a),e.removeEventListener("dragenter",a),e.removeEventListener("drop",i)}))},r.isUploading=function(){var e=!1;return n.each(r.files,(function(t){if(t.isUploading())return e=!0,!1})),e},r.upload=function(){if(!r.isUploading()){r.fire("uploadStart");for(var e=1;e<=r.getOpt("simultaneousUploads");e++)r.uploadNextChunk()}},r.pause=function(){n.each(r.files,(function(e){e.abort()})),r.fire("pause")},r.cancel=function(){r.fire("beforeCancel");for(var e=r.files.length-1;e>=0;e--)r.files[e].cancel();r.fire("cancel")},r.progress=function(){var e=0,t=0;return n.each(r.files,(function(r){e+=r.progress()*r.size,t+=r.size})),t>0?e/t:0},r.addFile=function(e,t){f([e],t)},r.addFiles=function(e,t){f(e,t)},r.removeFile=function(e){for(var t=r.files.length-1;t>=0;t--)r.files[t]===e&&r.files.splice(t,1)},r.getFromUniqueIdentifier=function(e){var t=!1;return n.each(r.files,(function(r){r.uniqueIdentifier==e&&(t=r)})),t},r.getSize=function(){var e=0;return n.each(r.files,(function(t){e+=t.size})),e},r.handleDropEvent=function(e){i(e)},r.handleChangeEvent=function(e){f(e.target.files,e),e.target.value=""},r.updateQuery=function(e){r.opts.query=e},this}),l=u,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Modal",{attrs:{value:e.showProgress,title:"上传进度"},on:{"on-visible-change":e.visibleChange}},[e._l(e.fileList,(function(t){return r("ul",{key:t.uniqueIdentifier,staticClass:"file-progress"},[r("span",[e._v("文件名: "+e._s(t.fileName))]),r("span",{staticStyle:{"margin-left":"10px"}},[e._v("文件大小: "+e._s(e.fileSize(t.size)))]),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.progress_text))]),r("Progress",{class:{"red-important":"wrong"===e.status(t)},attrs:{percent:Math.floor(100*t.progress()),status:e.status(t)}}),t.isCanceled||100===Math.floor(100*t.progress())?e._e():r("div",{staticStyle:{"text-align":"center"}})],1)})),r("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"})],2)},c=[],p={data:function(){return{}},props:{showProgress:{type:Boolean},fileList:{type:Array,default:function(){return[]}}},methods:{status:function(e){return e.failed||e.isCanceled?"wrong":"active"},pause:function(e){e.pause()},visibleChange:function(e){this.$emit("update:showProgress",e)},fileSize:function(e){var t,r=Math.floor(e/1024/1024);return r>0?"".concat(r,"Mb"):(t=Math.floor(e/1024))?"".concat(t,"Kb"):"".concat(e,"b")}}},d=p,h=(r("0f7c"),r("6d96"),r("9ca4")),m=Object(h["a"])(d,f,c,!1,null,"38ce7b1a",null),g=m.exports,b={data:function(){return{resumable_error:!1,resumable_drop:!1,resumable_list:!1,resumableDrag:!1,r:null,resumableBrowse:"resumable-browse-"+this.resumableId+this._uid,progressModalShow:!1,fileList:[]}},components:{Progress:g},props:{showProgress:{type:Boolean,required:!1},target:{type:String,required:!0},resumableId:{type:String},fileSuccess:{type:Function},fileAdded:{type:Function},simultaneousUploads:{type:Number,default:4},maxFiles:{type:Number,default:void 0},fileType:{type:Array,default:function(){return[]}}},methods:{initResumable:function(){var e=this,t=new l({promiseAll:[],maxFiles:this.maxFiles,target:this.target,query:{},fileType:this.fileType,withCredentials:!0,chunkSize:5242880,simultaneousUploads:this.simultaneousUploads,method:"octet",testChunks:!1,generateUniqueIdentifier:function(e,t){var r=e.webkitRelativePath||e.fileName||e.name,n=e.size,i=r.substring(0,r.lastIndexOf(".")),a=r.substring(r.lastIndexOf(".")+1);return(new Date).getTime()+n+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")+"."+a}});if(this.r=t,t.support){this.resumable_drop=!0,t.assignDrop(document.getElementsByClassName("resumable-drop")),t.assignBrowse(document.getElementsByClassName(this.resumableBrowse)),this.resumable_list=!0;var r=0;t.on("fileAdded",function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,i){var a,s,o,u,l,f,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(f=function(e,t,n,i){var a=this;e.fileAdded&&e.fileAdded(t).then((function(){r+=1})).catch((function(){var e=n.indexOf(t);n.splice(e,1),e=i.indexOf(t),i.splice(e,1)})).finally((function(){r>=n.length&&r>0&&(r=0,e.r.upload(),a.fileList.push(t),a.progressModalShow||(a.progressModalShow=!0))}))},a=c.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=c[o];u=s[0],l=s[1],f(e,n,u,l);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),t.on("fileSuccess",(function(t){t.progressNum=100,t.progress_text="上传成功",e.fileSuccess&&e.fileSuccess(t)})),t.on("fileError",(function(e){e.failed=!0,e.progress_text="上传失败"})),t.on("fileProgress",(function(e){window.onbeforeunload=function(e){var t=window.event||e;t.returnValue="确定离开当前页面吗？"},e.progressNum=Math.floor(100*e.progress())}))}else this.resumable_error=!0}},filters:{size:function(e){if(!e)return 0;var t=e/1048576;return parseInt(t,10)>0?t.toFixed(1)+"M":(e/1024).toFixed(1)+"Kb"}},mounted:function(){this.initResumable()}},v=b,y=(r("c4ae"),Object(h["a"])(v,s,o,!1,null,"fffbe41c",null)),O=y.exports,k={components:{Resumable:O},data:function(){return{uploadTarget:"/video/upload",columns:[{title:"属性名",key:"name"},{title:"类型",key:"type"},{title:"默认值",key:"default"},{title:"说明",key:"desc"}],propData:[{name:"showProgress",type:"Boolean",default:"false",desc:"是否展示进度条"},{name:"target",type:"String",default:"undefined",desc:"上传路径"},{name:"resumableId",type:"String",default:"undefined",desc:"组件标识"},{name:"fileSuccess",type:"Function",default:"undefined",desc:"上传成功的回调"},{name:"fileAdded",type:"Function",default:"undefined",desc:"选中文件，上传前的钩子函数"},{name:"simultaneousUploads",type:"Number",default:"4",desc:"可支持同时上传的文件数"},{name:"maxFiles",type:"Number",default:"undefined",desc:"批量上传数量"},{name:"fileType",type:"Array",default:"[]",desc:'支持的上传文件类型如[".txt"]，默认支持所有类型'}]}},methods:{fileAdded:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.customQuery={videoId:t.formItem.id,type:"videos"};case 1:case"end":return r.stop()}}),r)})))()},fileUploadSuccess:function(e){console.log(e)}}},x=k,w=(r("8922"),Object(h["a"])(x,n,i,!1,null,"5d8179d4",null));t["default"]=w.exports},"8d7b":function(e,t,r){"use strict";var n=r("da10"),i=r("3da3"),a=r("d88d"),s=r("d7e1"),o=r("ff9c"),u=Math.min,l=[].lastIndexOf,f=!!l&&1/[1].lastIndexOf(1,-0)<0,c=s("lastIndexOf"),p=o("indexOf",{ACCESSORS:!0,1:0}),d=f||!c||!p;e.exports=d?function(e){if(f)return l.apply(this,arguments)||0;var t=n(this),r=a(t.length),s=r-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},9302:function(e,t,r){"use strict";var n=r("1c8b"),i=r("692f"),a=r("da10"),s=r("d7e1"),o=[].join,u=i!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:u||!l},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},9474:function(e,t,r){},a60c:function(e,t,r){},b7bb:function(e,t,r){},c4ae:function(e,t,r){"use strict";var n=r("a60c"),i=r.n(n);i.a},c7e6:function(e,t,r){"use strict";var n=r("3da3"),i=r("2732");e.exports="".repeat||function(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},e1d9:function(e,t,r){var n=r("2118");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},f4e3:function(e,t,r){"use strict";var n=r("b2a2"),i=r("857c"),a=r("d88d"),s=r("2732"),o=r("38eb"),u=r("59da");n("match",1,(function(e,t,r){return[function(t){var r=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var s=i(e),l=String(this);if(!s.global)return u(s,l);var f=s.unicode;s.lastIndex=0;var c,p=[],d=0;while(null!==(c=u(s,l))){var h=String(c[0]);p[d]=h,""===h&&(s.lastIndex=o(l,a(s.lastIndex),f)),d++}return 0===d?null:p}]}))}}]);